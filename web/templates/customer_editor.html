<!-- templates/customer_editor.html -->
<dialog id="customer_editor" class="dialog" style="max-width:720px;">
  <form method="dialog" class="content" style="padding:16px 16px 8px;">
    <h3 id="cust_ed_title" style="margin:0 0 12px;">New customer</h3>

    <div class="grid" style="grid-template-columns:repeat(2,minmax(220px,1fr));gap:12px;">
      <div class="field">
        <label>Name *</label>
        <input id="cust_ed_name" required style="height:36px;padding:0 10px;">
      </div>
      <div class="field">
        <label>Email</label>
        <input id="cust_ed_email" type="email" style="height:36px;padding:0 10px;">
      </div>
      <div class="field">
        <label>Phone</label>
        <input id="cust_ed_phone" style="height:36px;padding:0 10px;">
      </div>
      <div class="field">
        <label>Country</label>
        <select id="cust_ed_country" style="height:36px;padding:0 8px;">
          <option value="GB">United Kingdom</option>
          <option value="US">United States</option>
        </select>
      </div>

      <!-- Payment terms -->
      <div class="field">
        <label>Payment terms</label>
        <select id="cust_ed_terms_type" style="height:36px;padding:0 8px;">
          <option value="net_30">Net 30</option>
          <option value="net_60">Net 60</option>
          <option value="month_following">End of month following</option>
          <option value="custom">Custom…</option>
        </select>
      </div>
      <div class="field" id="cust_ed_terms_days_wrap" style="display:none;">
        <label>Custom days</label>
        <input id="cust_ed_terms_days" type="number" min="0" step="1" placeholder="e.g. 45" style="height:36px;padding:0 10px;">
      </div>

      <div class="field" style="grid-column:1 / span 2;">
        <label>Address line 1</label>
        <input id="cust_ed_line1" style="height:36px;padding:0 10px;">
      </div>
      <div class="field" style="grid-column:1 / span 2;">
        <label>Address line 2</label>
        <input id="cust_ed_line2" style="height:36px;padding:0 10px;">
      </div>
      <div class="field">
        <label>City</label>
        <input id="cust_ed_city" style="height:36px;padding:0 10px;">
      </div>
      <div class="field">
        <label id="cust_ed_region_lbl">County/Region</label>
        <input id="cust_ed_region" style="height:36px;padding:0 10px;">
      </div>
      <div class="field">
        <label id="cust_ed_post_lbl">Postcode</label>
        <input id="cust_ed_postcode" style="height:36px;padding:0 10px;">
      </div>

      <!-- Recalculate checkbox (only shown when editing) -->
      <div class="field" id="cust_ed_recalc_wrap" style="grid-column:1 / span 2; display:none;">
        <label class="chk" style="display:flex;align-items:center;gap:8px;">
          <input id="cust_ed_recalc" type="checkbox">
          Recalculate due dates for existing open invoices
        </label>
        <div class="muted" style="margin-top:4px;">
          Applies to this customer’s invoices that are not marked as paid. This will overwrite their current due dates.
        </div>
      </div>
    </div>

    <div id="cust_ed_msg" class="muted" style="margin-top:10px;"></div>

    <div class="field-row" style="justify-content:flex-end;gap:8px;margin-top:12px;">
      <button id="cust_ed_cancel" class="btn btn--ghost">Cancel</button>
      <button id="cust_ed_save" class="btn">Save</button>
    </div>
  </form>
</dialog>
